<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event category="COLLISION" with="Character">
  <actions>
    <action id="603" library="1">
      <!--action name: Code-->
      <kind>CODE</kind>
      <allowRelative>false</allowRelative>
      <question>false</question>
      <canApplyTo>true</canApplyTo>
      <actionType>CODE</actionType>
      <functionName/>
      <relative>false</relative>
      <not>false</not>
      <appliesTo>.self</appliesTo>
      <arguments>
        <argument kind="STRING">    gunSetSolids();
    if (!place_free(x, y)) 
    {
        instance_destroy();
        gunUnsetSolids();
        exit;
    }
    gunUnsetSolids();

    if(other.id != ownerPlayer.object and other.team != team  &amp;&amp; other.hp &gt; 0 &amp;&amp; other.ubered == 0)
    {
        // allow knockback to radioactive players as god gaben intended
        with(other)
        {
            switch(other.weapon)
            {
                case DAMAGE_SOURCE_FAN:
                    motion_add(other.direction, other.speed*0.1);
                    if (!onground) { // make em fly if theyre off ground
                        //motion_add(other.direction, other.speed*0.2);
                        other.moveStatus = 3;
                    }
                break;
                case DAMAGE_SOURCE_RSHOOTER:
                    if (!onground and moveStatus == 3 and crit &lt; 1) crit *= 1.15; // would be insane if it counted up while existing crits
                    motion_add(other.direction, other.speed*0.03);
                break;
                default:
                    motion_add(other.direction, other.speed*0.03);
                break;
            }
        }
        damageCharacter(ownerPlayer, other.id, hitDamage, id);
        if (other.abilityActive[0] &amp;&amp; other.ability[0] == INVULN || other.abilityActive[1] &amp;&amp; other.ability[1] == INVULN) exit;
        if (other.lastDamageDealer != ownerPlayer and other.lastDamageDealer != other.player)
        {
            other.secondToLastDamageDealer = other.lastDamageDealer;
            other.alarm[4] = other.alarm[3]
        }
        other.alarm[3] = ASSIST_TIME / global.delta_factor;
        other.lastDamageDealer = ownerPlayer;
        other.lastDamageSource = weapon;

        var blood;
        if(global.gibLevel &gt; 0)
        {
            blood = instance_create(x,y,Blood);
            blood.direction = direction-180;
        }
        dealFlicker(other.id);

        if (sprite_index != LaserShotS) instance_destroy(); // lorgan made 50 shots when he could just do a single if sttatement, boom done
    }

</argument>
      </arguments>
    </action>
  </actions>
</event>
